(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{283:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>o});var a=r(5155),n=r(2115),l=r(2099);let s=(0,n.createContext)(void 0),i=!l.ND||!0;function o(e){let{children:t}=e,[r,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0),h=()=>{{let e=localStorage.getItem("demo-user");if(console.log("Demo mode: checking localStorage for demo-user:",e),e)try{let t=JSON.parse(e);console.log("Demo mode: parsed user data:",t),o(t),c({id:t.id,email:t.email,public_name:t.email.split("@")[0],name:t.email.split("@")[0],role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(e){console.error("Error parsing demo user data:",e)}else o(null),c(null)}};(0,n.useEffect)(()=>{if(i){h();let e=e=>{"demo-user"===e.key&&(console.log("Demo user localStorage changed, reloading user data"),h())};window.addEventListener("storage",e);let t=()=>{console.log("Demo user custom event triggered, reloading user data"),h()};return window.addEventListener("demo-user-updated",t),m(!1),()=>{window.removeEventListener("storage",e),window.removeEventListener("demo-user-updated",t)}}if(!l.ND)return void m(!1);(async()=>{var e;let{data:{session:t}}=await l.ND.auth.getSession();if(o(null!=(e=null==t?void 0:t.user)?e:null),null==t?void 0:t.user){let{data:e}=await (0,l.VM)(t.user.id);c(e)}m(!1)})();let{data:{subscription:e}}=l.ND.auth.onAuthStateChange(async(e,t)=>{var r;if(o(null!=(r=null==t?void 0:t.user)?r:null),null==t?void 0:t.user){let{data:e}=await (0,l.VM)(t.user.id);c(e)}else c(null);m(!1)});return()=>e.unsubscribe()},[]);let f=async()=>{if(i){localStorage.removeItem("demo-user"),o(null),c(null),window.dispatchEvent(new CustomEvent("demo-user-updated")),setTimeout(()=>{window.location.href="/"},100);return}if(!l.ND)return;let{error:e}=await l.ND.auth.signOut();e||(o(null),c(null))},g=async()=>{if(i&&r){let e=localStorage.getItem("demo-user");if(e)try{let t=JSON.parse(e);c({id:t.id,email:t.email,public_name:t.public_name||t.email.split("@")[0],name:t.name||t.email.split("@")[0],phone:t.phone||null,city:t.city||null,state:t.state||null,whatsapp:t.whatsapp||null,bio:t.bio||null,motivation:t.motivation||null,social_link:t.social_link||null,role:t.role||"user",created_at:t.created_at||new Date().toISOString(),updated_at:t.updated_at||new Date().toISOString()})}catch(e){console.error("Error refreshing demo profile:",e)}}else if(r){let{data:e}=await (0,l.VM)(r.id);c(e)}};return(0,a.jsx)(s.Provider,{value:{user:r,userProfile:d,loading:u,signOut:f,refreshProfile:g},children:t})}function d(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2099:(e,t,r)=>{"use strict";r.d(t,{ND:()=>s,QH:()=>c,VM:()=>i,eg:()=>o,lh:()=>d});var a=r(5647);let n="https://xjkaqdsldskhlhjptrga.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhqa2FxZHNsc2RraGxoanB0cmdhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMTA3MDMsImV4cCI6MjA2ODU4NjcwM30.eJuf7qNjehg1eSg7GB3Tv7xSNdz6phbWKuC8Cci0kFM",s=n&&l&&1?(0,a.UU)(n,l):null,i=async e=>{if(!s)return{data:null,error:{message:"Supabase not configured"}};let{data:t,error:r}=await s.from("users").select("*").eq("id",e).single();return{data:t,error:r}},o=async(e,t)=>(await new Promise(e=>setTimeout(e,500)),{data:{id:e,...t,updated_at:new Date().toISOString()},error:null}),d=async e=>{if(!s)return{data:null,error:{message:"Supabase not configured"}};let{data:t,error:r}=await s.from("events").insert(e).select().single();return{data:t,error:r}},c=async()=>{if(!s)return{data:{total_raised:867,total_donors:23,currency:"BRL",last_updated:new Date().toISOString()},error:null};let{data:e,error:t}=await s.from("donation_stats").select("*").single();return{data:e,error:t}}},2227:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},2513:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))})},2975:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},3840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(5155),n=r(2115),l=r(6874),s=r.n(l),i=r(5695),o=r(283);let d=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});var c=r(2227),u=r(2513),m=r(4219),h=r(8960),f=r(2975),g=r(8246),v=r(7186),w=r(5500),x=r(5442),p=r(5628);let b=[{name:"Dashboard",href:"/admin",icon:d},{name:"Eventos",href:"/admin/events",icon:c.A},{name:"Organizadores",href:"/admin/organizers",icon:u.A},{name:"Participantes",href:"/admin/participants",icon:m.A},{name:"Doa\xe7\xf5es",href:"/admin/donations",icon:h.A},{name:"Relat\xf3rios",href:"/admin/reports",icon:f.A},{name:"Modera\xe7\xe3o",href:"/admin/moderation",icon:g.A},{name:"Configura\xe7\xf5es",href:"/admin/settings",icon:v.A},{name:"Analytics",href:"/admin/analytics",icon:w.A}];function j(){let e=(0,i.usePathname)(),{signOut:t,userProfile:r}=(0,o.A)(),[l,d]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{d(!0)},[]),!l)return(0,a.jsxs)("div",{className:"w-64 bg-white shadow-lg border-r border-gray-200 min-h-screen",children:[(0,a.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDEE1️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Admin Panel"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Marcha Brasil"})]})]})}),(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Loading..."})]});let c=async()=>{await t()};return(0,a.jsxs)("div",{className:"w-64 bg-white shadow-lg border-r border-gray-200 min-h-screen flex flex-col",children:[(0,a.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDEE1️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Admin Panel"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Marcha Brasil"})]})]})}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:b.map(t=>{let r=t.icon,n=e===t.href;return(0,a.jsxs)(s(),{href:t.href,className:"\n                flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors\n                ".concat(n?"bg-green-100 text-green-700 border-r-2 border-green-500":"text-gray-700 hover:text-green-600 hover:bg-green-50","\n              "),children:[(0,a.jsx)(r,{className:"h-5 w-5 ".concat(n?"text-green-600":"")}),(0,a.jsx)("span",{children:t.name})]},t.name)})}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"A"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:l&&(null==r?void 0:r.name)||"Admin"}),(0,a.jsx)("div",{className:"text-xs text-red-600 font-medium",children:"Administrador"})]})]}),(0,a.jsxs)("button",{onClick:c,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Sair da Conta"})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsx)("span",{className:"text-xs font-medium text-yellow-800",children:"Sistema Ativo"})]}),(0,a.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Monitoramento em tempo real"})]})})]})}function k(e){let{children:t}=e;return console.log("\uD83D\uDE80 Admin Layout: Rendering admin interface - No auth checks"),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100 flex",children:[(0,a.jsx)(j,{}),(0,a.jsx)("main",{className:"flex-1 min-h-screen overflow-auto",children:(0,a.jsx)("div",{className:"p-8",children:t})})]})}},4219:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))})},5442:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))})},5500:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))})},5628:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},7186:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},8246:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))})},8960:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},9312:(e,t,r)=>{Promise.resolve().then(r.bind(r,3840))}},e=>{e.O(0,[5647,6874,8441,5964,7358],()=>e(e.s=9312)),_N_E=e.O()}]);